# git_right_prompt_setup

# sets up RPROMPT to show git branch and repo

# slightly modified from:
# https://git-scm.com/book/en/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Zsh

autoload -Uz vcs_info
autoload update_terminal_pwd

precmd_vcs_info() { 
  vcs_info
  update_terminal_window_title $vcs_info_msg_0_
}

setopt prompt_subst
RPROMPT='%F{240}$vcs_info_msg_0_%f'
# PROMPT='\$vcs_info_msg_0_%# '
# enables checking for staged/unstaged

zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:git:*' formats '%s: %m%u%c %r/%b'
zstyle ':vcs_info:*' enable git

autoload add-zsh-hook
add-zsh-hook precmd precmd_vcs_info
